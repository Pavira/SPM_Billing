<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SPM Bill {{ invoice.invoice_number }}</title>
    <link rel="stylesheet" href="spm_bill.css" />
  </head>
  <body>
    <div class="spm-bill-container">
      <div class="invoice-header">
        <p><b>TAX INVOICE</b></p>
      </div>

      <div class="invoice-container">
        <div class="invoice-box">
          <div class="section-1">
            <div class="left-60">
              <div class="detail-box company-details">
                <p class="company-name">{{ company.name }}</p>
                <p>{{ company.address }}</p>
                <p>GSTIN/UIN : {{ company.gstin }}</p>
                <p>
                  State Name : {{ company.state }}, Code :
                  {{ company.state_code }}
                </p>
                <p>Contact : {{ invoice.seller_contact or "-" }}</p>
                <p>E-Mail : {{ invoice.seller_email or "-" }}</p>
              </div>

              <div class="detail-box consignee-details">
                <p class="consignee-label">Consignee (Ship to)</p>
                <p class="consignee-name">{{ invoice.consignee.name or "-" }}</p>
                <p>{{ invoice.consignee.address or "-" }}</p>
                <p>GSTIN/UIN : {{ invoice.consignee.gstin or "-" }}</p>
                <p>
                  PAN/IT No :
                  {{ invoice.consignee.pan_number or invoice.consignee.panNumber or "-" }}
                </p>
                <p>Contact person : {{ invoice.consignee.contact or "-" }}</p>
                <p>Contact : {{ invoice.consignee.phone or "-" }}</p>
                <p>E-Mail : {{ invoice.consignee.email or "-" }}</p>
              </div>

              <div class="detail-box buyer-details">
                <p class="buyer-label">Buyer (Bill to)</p>
                <p class="buyer-name">{{ invoice.buyer.name or "-" }}</p>
                <p>{{ invoice.buyer.address or "-" }}</p>
                <p>GSTIN/UIN : {{ invoice.buyer.gstin or "-" }}</p>
                <p>
                  PAN/IT No :
                  {{ invoice.buyer.pan_number or invoice.buyer.panNumber or "-" }}
                </p>
                <p>Delivery Contact person : {{ invoice.delivery_contact or "-" }}</p>
                <p>Mobile : {{ invoice.buyer.phone or "-" }}</p>
                <p>E-Mail : {{ invoice.buyer.email or "-" }}</p>
              </div>
            </div>

            <div class="right-40">
              <div class="meta-section">
                <div class="meta-row">
                  <div class="meta-col-left">
                    <div>
                      <span class="meta-label">Invoice No.</span>
                      <p class="meta-value">{{ invoice.invoice_number or "-" }}</p>
                    </div>
                  </div>
                  <div class="meta-col-right">
                    <span class="meta-label">Dated</span>
                    <p class="meta-value">{{ invoice.invoice_date or "-" }}</p>
                  </div>
                </div>

                <div class="meta-row">
                  <div class="meta-col-left">
                    <span class="meta-label">Delivery Note</span>
                    <p class="meta-value">{{ invoice.delivery_note or "-" }}</p>
                  </div>
                </div>

                <div class="meta-row">
                  <div class="meta-col-left">
                    <span class="meta-label">Buyer's Order No.</span>
                    <p class="meta-value">{{ invoice.po_number or "-" }}</p>
                  </div>
                  <div class="meta-col-right">
                    <span class="meta-label">Dated</span>
                    <p class="meta-value">{{ invoice.po_date or "-" }}</p>
                  </div>
                </div>

                <div class="meta-row">
                  <div class="meta-col-left">
                    <span class="meta-label">Dispatch Doc No</span>
                  </div>
                  <div class="meta-col-right">
                    <span class="meta-label">Delivery Note Date</span>
                  </div>
                </div>

                <div class="meta-row">
                  <div class="meta-col-left">
                    <span class="meta-label">Order Cutting</span>
                  </div>
                  <div class="meta-col-right">
                    <span class="meta-label">Destination</span>
                  </div>
                </div>
              </div>

              <div class="transport-section"></div>
            </div>
          </div>

          <div class="section-2">
            <div class="table-header">
              <div class="col si">SI</div>
              <div class="col desc">Description of Goods</div>
              <div class="col hsn">HSN / SAC</div>
              <div class="col gst">GST %</div>
              <div class="col qty">Qty</div>
              <div class="col rate">Rate</div>
              <div class="col per">Per</div>
              <div class="col amt">Amount</div>
            </div>

            <div class="table-body">
              {% for item in invoice["items"] %}
              <div class="table-row">
                <div class="col si">{{ loop.index }}</div>
                <div class="col desc">{{ item.name or "-" }}</div>
                <div class="col hsn">{{ item.hsn or "-" }}</div>
                <div class="col gst">{{ item.gst_percentage or 0 }}</div>
                <div class="col qty">{{ item.quantity or 0 }}</div>
                <div class="col rate">{{ item.rate or 0 }}</div>
                <div class="col per">{{ item.uom or "-" }}</div>
                <div class="col amt">{{ "%.2f"|format(item.amount or 0) }}</div>
              </div>
              {% endfor %}

              {% set empty_rows = 15 - invoice["items"]|length %}
              {% for _ in range(empty_rows if empty_rows > 0 else 0) %}
              <div class="table-row empty">
                <div class="col si"></div>
                <div class="col desc"></div>
                <div class="col hsn"></div>
                <div class="col gst"></div>
                <div class="col qty"></div>
                <div class="col rate"></div>
                <div class="col per"></div>
                <div class="col amt"></div>
              </div>
              {% endfor %}
            </div>

            <div class="tax-section">
              <div class="tax-labels">
                <div>SGST 9%</div>
                <div>CGST 9%</div>
                <div>Round Off</div>
              </div>
              <div class="tax-values">
                <div>{{ "%.2f"|format(invoice.totals.sgst or 0) }}</div>
                <div>{{ "%.2f"|format(invoice.totals.cgst or 0) }}</div>
                <div>{{ "%.2f"|format(invoice.totals.round_off or 0) }}</div>
              </div>
            </div>

            <div class="total-section">
              <div class="total-label">Total</div>
              <div class="total-value">
                {{ "%.2f"|format(invoice.totals.total or 0) }}
              </div>
            </div>
          </div>

          <div class="section-3">
            <div class="row amount-words">
              <div class="label">Amount Chargeable (in words)</div>
              <div class="value">{{ invoice.totals.amount_in_words or "-" }}</div>
            </div>

            <div class="row notes">
              <div class="label">Notes:</div>
              <div class="value">Goods once sold will not be taken back.</div>
            </div>

            <div class="section-3-bottom">
              <div class="section-3-left">
                <div class="declaration">
                  <p>Declaration: Goods as described are true.</p>
                  <p>All charges as per agreement.</p>
                  <p>Subject to jurisdiction of courts.</p>
                  <p>Warranty as per manufacturer terms.</p>
                </div>
              </div>
              <div class="section-3-right">
                <div class="bank-details">
                  <div class="bank-heading">Company's Bank Details</div>
                  <div class="bank-line">Bank: Example National Bank</div>
                  <div class="bank-line">A/C No: 123456789012</div>
                  <div class="bank-line">IFSC: EXAM0000123</div>
                  <div class="bank-line">Branch: Example Branch</div>
                  <div class="bank-line">PAN: AAAA0000A</div>
                </div>
              </div>
            </div>
          </div>

          <div class="section-4">
            <div class="section-4-left">
              <div class="signature-label">Customer's Seal and Signature</div>
            </div>
            <div class="section-4-right">
              <div class="signature-for">for SPM ENGINEERING</div>
            </div>
          </div>
        </div>
      </div>

      <div class="invoice-footer">
        <p>THIS IS A COMPUTER GENERATED INVOICE</p>
      </div>
    </div>
  </body>
</html>
